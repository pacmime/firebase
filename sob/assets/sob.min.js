!function(angular){"use strict";angular.module("sob-common",[]).constant("DataStoreUrl","https://intense-fire-8692.firebaseio.com/ShadowsOfBrimstone").factory("DataStore",["$firebaseObject","DataStoreUrl",function($firebaseObject,DataStoreUrl){return function(property,value){var ref=new Firebase(DataStoreUrl+"/chars");return property&&value&&ref.orderByChild(property).equalTo(value),$firebaseObject(ref)}}]).factory("CharacterRef",["$firebaseObject","DataStoreUrl",function($firebaseObject,DataStoreUrl){return function(name){var ref=new Firebase(DataStoreUrl+"/chars/"+name);return $firebaseObject(ref)}}]).factory("Auth",["$firebaseAuth","DataStoreUrl",function($firebaseAuth,DataStoreUrl){var ref=new Firebase(DataStoreUrl);return $firebaseAuth(ref)}]).filter("encode",function(){return function(value){return encodeURIComponent(value)}}).filter("decode",function(){return function(value){return decodeURIComponent(value)}}).provider("responsiveHelper",["$windowProvider",function($windowProvider){function Helper($window){this.window=$window}var $window=$windowProvider.$get();Helper.prototype={getWidth:function(){return $window.innerWidth||$window.outerWidth},isXS:function(){var width=this.getWidth();return 768>width},isSM:function(){var width=this.getWidth();return width>=768&&992>width},isMD:function(){var width=this.getWidth();return width>=992&&1200>width},isLG:function(){var width=this.getWidth();return width>=1200}};var helper=new Helper($window);this.$get=function(){return helper}}]).directive("responsive",["$window","responsiveHelper",function($window,responsiveHelper){return{restrict:"A",link:function($scope,$element,$attrs){function update(el,helper){helper.isXS()?el.addClass("responsive-xs"):el.removeClass("responsive-xs"),helper.isSM()?el.addClass("responsive-sm"):el.removeClass("responsive-sm"),helper.isMD()?el.addClass("responsive-md"):el.removeClass("responsive-md"),helper.isLG()?el.addClass("responsive-lg"):el.removeClass("responsive-lg")}update($element,responsiveHelper);var resizeFn=function(){update($element,responsiveHelper)},w=angular.element($window);w.on("resize",resizeFn);$scope.$on("$destroy",function(){w.off("resize",resizeFn)})}}}]).controller("ItemEditor",function($scope,$uibModalInstance,item){$scope.item=item,$scope.ok=function(){$uibModalInstance.close($scope.item)},$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}}).controller("ClothingEditor",function($scope,$uibModalInstance,item,types){$scope.item=item,$scope.types=types,$scope.newItem=!item,$scope.ok=function(){$uibModalInstance.close($scope.item)},$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}}).controller("KeyPad",function($scope,$uibModalInstance,value,minimum,maximum){$scope.value=value,$scope.minimum=minimum||0,$scope.maximum=maximum||9999,$scope.change=function(v){v>0?$scope.value=Math.min($scope.value+v,maximum):$scope.value=Math.max($scope.value+v,minimum)},$scope.ok=function(){$uibModalInstance.close($scope.value)},$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}}).directive("editableStatValue",["$uibModal",function($uibModal){return{scope:{onSave:"&",minimum:"@",maximum:"@"},restrict:"A",require:"ngModel",replace:!0,template:'<div class="value" ng-click="openKeypad()">{{display}}</div>',link:function($scope,$element,$attrs,ngModelController){$scope.minimum=1*($scope.minimum||0),$scope.maximum=1*($scope.maximum||9999),ngModelController.$render=function(){$scope.display=ngModelController.$viewValue},$scope.openKeypad=function(){var value=ngModelController.$modelValue||0,modalInstance=$uibModal.open({templateUrl:"src/keypad.html",controller:"KeyPad",animation:!1,resolve:{value:function(){return value},minimum:function(){return $scope.minimum},maximum:function(){return $scope.maximum}}});modalInstance.result.then(function(value){ngModelController.$setViewValue(value),ngModelController.$render(),$scope.onSave&&$scope.onSave()},function(){})}}}}]).directive("editableInput",["$timeout",function($timeout){return{restrict:"AE",require:"ngModel",scope:{label:"@",onSave:"&"},replace:!0,template:['<div class="editable-input">','  <label class="editable-input-label">{{::label}}</label>','  <span class="editable-input-display" ng-show="!editing" ng-click="edit()"></span>','    <form class="form" ng-show="editing">','      <div class="form-group">','        <div class="grid">','          <div class="grid__col-auto grid__col--grow-2">','            <input type="text" class="form-control editable-input-field" ','              ng-keyup="onKeyUp($event, $event.keyCode)"></input>',"          </div>",'          <div class="grid__col-auto">','            <div class="editable-input-buttons">','              <button type="button" class="btn btn-xs btn-link text-success" ng-disabled="error" ng-click="done()" tabindex="0">','                <span class="glyphicon glyphicon-ok"></span>',"              </button>",'              <button type="button" class="btn btn-xs btn-link text-danger" ng-click="cancel()"  tabindex="0">','                <span class="glyphicon glyphicon-remove"></span>',"              </button>","            </div>","          </div>","        </div>","      </div>","    </form>","</div>"].join(" "),link:function($scope,$element,$attrs,ngModelController){function update(newValue){ngModelController.$setViewValue(newValue),ngModelController.$render()}ngModelController.$render=function(){var value=ngModelController.$viewValue,display=value&&value.length&&value.trim().length?value:"Please enter a value";$element.find(".editable-input-display").text(display),$element.find(".editable-input-field").val(value)},$scope.edit=function(){$scope.editing=!0,$timeout(function(){$element.find(".editable-input-field").focus().select()},200)},$scope.done=function(){var value=$element.find(".editable-input-field").val();update(value),$scope.editing=!1,$scope.onSave()},$scope.cancel=function(){$element.find(".editable-input-field").val(ngModelController.$viewValue),$scope.editing=!1},$scope.onKeyUp=function($event,code){void 0!==code&&0!==code||void 0===$event.which||(code=$event.which),13!==code||$scope.error?27===code&&$scope.cancel():$scope.done()}}}}]).directive("imgSelector",function(){function base64(file,callback){function readerOnload(e){var base64=btoa(e.target.result);coolFile.base64=base64,callback(coolFile)}var coolFile={},reader=new FileReader;reader.onload=readerOnload;var file=file[0].files[0];return file.size>1e5?(alert("Image is too large, should be less than 100 KB"),void callback(null)):(coolFile.filetype=file.type,coolFile.size=file.size,coolFile.filename=file.name,void reader.readAsBinaryString(file))}return{scope:{onSave:"&"},require:"ngModel",template:['<form class="img-selector">','  <div class="image" title="click to change">','    <img src="assets/avatar.png">',"  </div>",'  <button type="button" class="btn btn-sm btn-success" ','    ng-if="imgData && isDirty()" ng-click="save()">save</button>','  <input type="file" class="hidden">',"</form>"].join(" "),link:function($scope,$element,$attrs,ngModelController){function update(){if($scope.imgData){var image='<img alt="avatar" src="'+$scope.imgData+'">';$element.find(".image").html(image)}}function onFileSelect(){console.log("selecting file"),base64($element.find("input"),function(data){return data?void $scope.$apply(function(){$scope.imgData="data:"+data.filetype+";base64,"+data.base64,update(),ngModelController.$setDirty()}):void $element.find("form")[0].reset()})}$scope.isDirty=function(){return ngModelController.$dirty},$scope.save=function(){ngModelController.$setViewValue($scope.imgData),ngModelController.$setPristine(),$scope.onSave()};var filePicker=$element.find("input");$element.find(".image").on("click",function(){filePicker.trigger("click")}),filePicker.on("change",onFileSelect),ngModelController.$render=function(){$scope.imgData||($scope.imgData=ngModelController.$viewValue,update())}}}}).controller("LoginController",function($scope,$uibModalInstance,Auth){$scope.login=function(){Auth.$authWithPassword({email:$scope.email,password:$scope.password}).then(function(authData){console.log("Logged in"),$uibModalInstance.close()})["catch"](function(error){var errorMessage=(error.code,error.message);console.log("unable to login: "+errorMessage)})},$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}}).directive("login",["$uibModal","Auth",function($uibModal,Auth){return{template:['<a ng-if="!user" ng-click="doLogin()">Login</a>','<a ng-if="user" class="dropdown-toggle" data-toggle="dropdown" ','  role="button" aria-haspopup="true" aria-expanded="false">','  {{user.password.email}} <span class="caret"></span>',"</a>",'<ul ng-if="user" class="dropdown-menu">','  <li><a ng-click="doReset()">Reset Password</a></li>','  <li><a ng-click="doLogout()">Log out</a></li>',"</ul>","</div>"].join(" "),controller:function($scope){Auth.$onAuth(function(authData){$scope.user=authData}),$scope.doLogout=function(){Auth.$unauth(),$scope.user=null},$scope.doLogin=function(){var modalInstance=$uibModal.open({templateUrl:"src/login.html",controller:"LoginController",resolve:{Auth:function(){return Auth}}});modalInstance.result.then(function(){},function(){})},$scope.doReset=function(){Auth.$resetPassword({email:$scope.user.password.email},function(error){null===error?alert("Password reset email sent"):alert("Error sending password reset email:",error)})}}}}])}(angular),function(angular){"use strict";var app=angular.module("sob-character",["ngSanitize","ui.bootstrap","firebase","sob-common"]);app.controller("CharacterController",["$scope","$routeParams","CharacterRef",function($scope,$routeParams,CharacterRef){var self=this;this.displayOpts={loading:!0,message:null,error:null},this.charName=decodeURIComponent($routeParams.charId),this.character=CharacterRef(this.charName),this.character.$loaded().then(function(){self.character.sidebag.spices=self.character.sidebag.spices||0,self.character.sidebag.potions=self.character.sidebag.potions||0,self.character.sidebag.hatchets=self.character.sidebag.hatchets||0,self.character.sidebag.lanternOil=self.character.sidebag.lanternOil||0,self.character.sidebag.exoticHerbs=self.character.sidebag.exoticHerbs||0,self.character.sidebag.tequila=self.character.sidebag.tequila||0,self.character.sidebag.cigars=self.character.sidebag.cigars||0}),this.onInputKeyPress=function($event){$event.keyCode||$event.which},this.save=function(){console.log("Saved"),this.character.$save()},this.getAvailableSidebagCapacity=function(){return self.character.sidebag?self.character.sidebag.capacity-((self.character.sidebag.bandages||0)+(self.character.sidebag.whiskey||0)+(self.character.sidebag.tonic||0)+(self.character.sidebag.herbs||0)+(self.character.sidebag.dynamite||0)+(self.character.sidebag.flash||0)+(self.character.sidebag.fungus||0)+(self.character.sidebag.spices||0)+(self.character.sidebag.potions||0)+(self.character.sidebag.hatchets||0)+(self.character.sidebag.lanternOil||0)+(self.character.sidebag.exoticHerbs||0)+(self.character.sidebag.tequila||0)+(self.character.sidebag.cigars||0)):0}}])}(angular),function(angular){"use strict";angular.module("sob-character").directive("abilities",function(){return{scope:{character:"=",onSave:"&"},replace:!0,templateUrl:"src/character/abilities/abilities.html",controller:function($scope,$element){function init(){$scope.value={name:null,desc:null}}init(),$scope.add=function(){$scope.value.name&&($scope.character.abilities=$scope.character.abilities||{},$scope.character.abilities[$scope.value.name]=$scope.value.desc,$scope.onSave(),init())},$scope.onEdited=function(name,newName,newDesc){name!==newName&&delete $scope.character.abilities[name],newName&&newDesc&&($scope.character.abilities[newName]=newDesc),$scope.onSave()}}}}).directive("ability",function(){function Controller($scope,$element){$scope.ctrl=this;$scope.name;this.name=$scope.name,this.desc=$scope.desc,this.edit=function(){this.displayEditor=!0},this.save=function(){$scope.onSave({newName:this.name,newDesc:this.desc}),this.displayEditor=!1},this.cancel=function(){this.displayEditor=!1},this.remove=function(){$scope.onSave({newName:null,newDesc:null})}}return{scope:{name:"@",desc:"@",onSave:"&"},replace:!0,templateUrl:"src/character/abilities/ability.html",controller:Controller}})}(angular),function(angular){"use strict";angular.module("sob-character").directive("clothing2",["$timeout","$uibModal",function($timeout,$uibModal){return{scope:{character:"=",onSave:"&"},replace:!0,templateUrl:"src/character/clothing/clothing.html",controller:function($scope,$element){function update(){var weight=0,darkstone=0;angular.forEach($scope.character.clothing,function(item,type){item.type||(item.type=type),weight+=item.weight||0,darkstone+=item.darkstone||0}),$scope.itemWeight=weight,$scope.itemDarkstone=darkstone}$scope.character.$loaded().then(update),$scope.onEdited=function(item,type){item||delete $scope.character.clothing[type],item&&($scope.character.clothing[item.type]=item),$scope.onSave(),update()},$scope.add=function(){var types=["hat","face","shoulders","coat","torso","belt","gloves","boots"];angular.forEach($scope.character.clothing,function(item,type){var index=types.indexOf(type);index>=0&&types.splice(index,1)});var modalInstance=$uibModal.open({templateUrl:"src/character/clothing/editor.html",controller:"ClothingEditor",animation:!1,resolve:{item:function(){return null},types:function(){return types}}});modalInstance.result.then(function(item){if(item&&item.name&&item.type&&($scope.character.clothing=$scope.character.clothing||{},!$scope.character.clothing[item.type])){var obj={};obj[item.type]=item,angular.merge($scope.character.clothing,obj),$scope.onSave(),update()}},function(){})}}}}]).directive("clothingItem2",["$uibModal",function($uibModal){function Controller($scope,$element){$scope.ctrl=this,this.clothing=$scope.clothingItem,this.edit=function(){var modalInstance=$uibModal.open({templateUrl:"src/character/clothing/editor.html",controller:"ItemEditor",animation:!1,resolve:{item:function(){var copy=angular.copy($scope.clothingItem);return copy},types:function(){return[$scope.clothingItem.type]}}});modalInstance.result.then(function(item){item&&item.name&&(angular.forEach(item,function(value,key){$scope.ctrl.clothing[key]=value}),$scope.ctrl.save())},function(){})},this.save=function(){console.log("Saving..."),$scope.onSave({item:this.clothing,type:this.clothing.type})},this.remove=function(){$scope.onSave({item:null,type:this.clothing.type})}}return{scope:{clothingItem:"=",onSave:"&"},replace:!0,templateUrl:"src/character/clothing/clothing-item.html",controller:Controller}}])}(angular),function(angular){"use strict";angular.module("sob-character").directive("items",["$timeout","$uibModal",function($timeout,$uibModal){return{scope:{character:"=",onSave:"&"},replace:!0,templateUrl:"src/character/items/items.html",controller:function($scope,$element){function update(){var weight=0,darkstone=0;angular.forEach($scope.character.items,function(item){weight+=item.weight||0,darkstone+=item.darkstone||0}),$scope.itemWeight=weight,$scope.itemDarkstone=darkstone}$scope.character.$loaded().then(update),$scope.onEdited=function(name,item){(!item||item.name&&item.name!==name)&&(delete $scope.character.items[name],item&&item.name&&(name=item.name)),item&&($scope.character.items[name]=item),$scope.onSave(),update()},$scope.add=function(){var modalInstance=$uibModal.open({templateUrl:"src/character/items/editor.html",controller:"ItemEditor",animation:!1,resolve:{item:function(){return null}}});modalInstance.result.then(function(item){if(item&&item.name){$scope.character.items||($scope.character.items={});var obj={};obj[item.name]=item,angular.merge($scope.character.items,obj),$scope.onSave(),update()}},function(){})}}}}]).directive("item",["$uibModal",function($uibModal){function Controller($scope,$element){$scope.ctrl=this,this.name=$scope.name,this.item=$scope.item,this.edit=function(){var modalInstance=$uibModal.open({templateUrl:"src/character/items/editor.html",controller:"ItemEditor",animation:!1,resolve:{item:function(){var copy=angular.copy($scope.item);return copy.name=$scope.name,copy}}});modalInstance.result.then(function(item){item&&item.name&&(angular.forEach(item,function(value,key){$scope.ctrl.item[key]=value}),console.log($scope.ctrl.item),$scope.ctrl.save())},function(){})},this.save=function(){$scope.onSave({item:this.item})},this.remove=function(){$scope.onSave({item:null})}}return{scope:{name:"@",item:"=",onSave:"&"},replace:!0,templateUrl:"src/character/items/item.html",controller:Controller}}])}(angular),function(angular){"use strict";angular.module("sob-character").directive("sermons",["$timeout","$uibModal",function($timeout,$uibModal){return{scope:{character:"=",onSave:"&"},replace:!0,templateUrl:"src/character/sermons/sermons.html",controller:function($scope,$element){$scope.onEdited=function(name,sermon){name&&(name&&!sermon&&delete $scope.character.sermons[name],sermon&&($scope.character.sermons[name]=sermon),$scope.onSave())},$scope.add=function(){var modalInstance=$uibModal.open({templateUrl:"src/character/sermons/editor.html",controller:"ItemEditor",animation:!1,resolve:{item:function(){return null}}});modalInstance.result.then(function(sermon){if(sermon&&sermon.name&&($scope.character.sermons=$scope.character.sermons||{},!$scope.character.sermons[sermon.name])){var obj={};obj[sermon.name]=sermon,angular.merge($scope.character.sermons,obj),$scope.onSave()}},function(){})}}}}]).directive("sermon",["$uibModal",function($uibModal){function Controller($scope,$element){$scope.ctrl=this,this.sermon=$scope.sermon,this.edit=function(){var modalInstance=$uibModal.open({templateUrl:"src/character/sermons/editor.html",controller:"ItemEditor",animation:!1,resolve:{item:function(){var copy=angular.copy($scope.sermon);return copy}}});modalInstance.result.then(function(sermon){sermon&&sermon.name&&(angular.forEach(sermon,function(value,key){$scope.ctrl.sermon[key]=value}),$scope.ctrl.save())},function(){})},this.save=function(){console.log("Saving..."),$scope.onSave({sermon:this.sermon,name:$scope.name})},this.remove=function(){$scope.onSave({sermon:null,name:$scope.name})}}return{scope:{name:"@",sermon:"=",onSave:"&"},replace:!0,templateUrl:"src/character/sermons/sermon.html",controller:Controller}}])}(angular),function(angular){"use strict";angular.module("sob-character").directive("mutations",function(){return{scope:{character:"=",onSave:"&"},replace:!0,templateUrl:"src/character/mutations/mutations-and-injuries.html",controller:function($scope,$element){function init(){$scope.value={name:null,desc:null}}init(),$scope.add=function(){$scope.value.name&&($scope.character.mutations=$scope.character.mutations||{},$scope.character.mutations[$scope.value.name]=$scope.value.desc,$scope.onSave(),init())},$scope.onEdited=function(name,newName,newDesc){name!==newName&&delete $scope.character.mutations[name],newName&&newDesc&&($scope.character.mutations[newName]=newDesc),$scope.onSave()}}}}).directive("mutation",function(){function Controller($scope,$element){$scope.ctrl=this;$scope.name;this.name=$scope.name,this.desc=$scope.desc,this.edit=function(){this.displayEditor=!0},this.save=function(){$scope.onSave({newName:this.name,newDesc:this.desc}),this.displayEditor=!1},this.cancel=function(){this.displayEditor=!1},this.remove=function(){$scope.onSave({newName:null,newDesc:null})}}return{scope:{name:"@",desc:"@",onSave:"&"},replace:!0,templateUrl:"src/character/mutations/mutation.html",controller:Controller}})}(angular),function(angular){"use strict";function getCharacterShell(){return{abilities:{},"class":" ",clothing:{Hat:{},Face:{},Shoulders:{},Coat:{},Torso:{},Gloves:{},Belt:{},Pants:{},Boots:{}},combat:1,corruption:{current:0,max:5},darkstone:0,defense:5,faith:0,grit:{current:1,max:2},health:{max:10,wounds:0},init:2,items:{},keywords:" ",level:1,melee:5,movement:0,ranged:5,sanity:{loss:0,max:10},sidebag:{capacity:5,whiskey:0,fungus:0,tonic:0,bandages:0,herbs:0,dynamite:0,flash:0},stats:{Agility:1,Cunning:1,Lore:1,Luck:1,Spirit:1,Strength:1},wealth:0,willpower:5,xp:0}}var app=angular.module("sob-home",["firebase","sob-common"]);app.controller("HomeController",["$scope","$timeout","DataStore","Auth",function($scope,$timeout,DataStore,Auth){function updateList(){var chars=[];angular.forEach(self.data,function(value,key){$scope.user&&value.userId&&value.userId===$scope.user.uid&&chars.push(key)}),self.chars=chars}var self=this;this.displayOpts={loading:!0,message:null,error:null},Auth.$onAuth(function(authData){$scope.user=authData,self.data=DataStore("userId",authData?authData.uid:null),self.data.$loaded().then(function(){updateList(),self.displayOpts.loading=!1})["catch"](function(error){self.displayOpts.error="Failed to load saved data: "+error.data})}),this.createCharacter=function(){var name=prompt("Name the character","Joe Bob");if(!name)return void alert("Characters must have a name");if(self.data[name])return void alert("Name is already in use");var json=getCharacterShell();json.userId=$scope.user.uid,self.data[name]=json,self.data.$save().then(function(){window.location="#/"+encodeURIComponent(name)})["catch"](function(error){alert("Unable to create character because of an error")})}}])}(angular),function(angular){"use strict";angular.module("app",["ngRoute","sob-home","sob-character"]).config(function($routeProvider,$locationProvider){$routeProvider.when("/:charId",{templateUrl:"src/character/character.html",controller:"CharacterController as ctrl"}).when("/",{templateUrl:"src/home/home.html",controller:"HomeController as ctrl"}).otherwise({redirectTo:"/"}),window.history&&history.pushState||console.log("Your browser does not support HTML5 mode")})}(angular),angular.module("app").run(["$templateCache",function($templateCache){"use strict";$templateCache.put("character/abilities/abilities.html",'<div class="abilities">\n    <h4>Abilities</h4>\n    <div ng-repeat="(name, desc) in character.abilities" \n        ability name="{{name}}" desc="{{desc}}" on-save="onEdited(name, newName, newDesc)"></div>\n\n    <hr>\n    \n    <form class="form">\n        <input type="text" class="form-control" placeholder="Name" ng-model="value.name">\n        <textarea rows="3" class="form-control" placeholder="Description" ng-model="value.desc"></textarea>\n        <button type="button" class="btn btn-success pull-right" ng-disabled="!value.name" ng-click="add()">Add</button>\n    </form>\n\n</div>'),$templateCache.put("character/abilities/ability.html",'<div class="ability">\n  <div ng-if="!ctrl.displayEditor">\n    <div class="pull-right">\n      <button type="button" class="btn btn-sm btn-danger" ng-click="ctrl.remove()">\n        <span class="glyphicon glyphicon-trash"></span>\n      </button>\n      <button type="button" class="btn btn-sm btn-default" ng-click="ctrl.edit()">\n        <span class="glyphicon glyphicon-pencil"></span>\n      </button>\n    </div>\n    <h5>{{ctrl.name}}</h5> <small>{{ctrl.desc}}</small>\n  </div>\n  <form class="form" ng-if="ctrl.displayEditor">\n    <input type="text" class="form-control" ng-model="ctrl.name" placeholder="name">\n    <textarea rows="3" class="form-control" ng-model="ctrl.desc" placeholder="value"></textarea>\n    <button type="button" class="btn btn-sm btn-success" ng-click="ctrl.save()">\n      <span class="glyphicon glyphicon-ok"></span>\n    </button>\n    <button type="button" class="btn btn-sm btn-default" ng-click="ctrl.cancel()">\n      <span class="glyphicon glyphicon-remove"></span>\n    </button>\n  </form>\n</div>'),$templateCache.put("character/body.html",'<div class="body">\n    \n    <div class="grid">\n\n        <div class="grid__col-sm-12 grid__col-md-6">\n            \n            <div>\n                \n                <div class="level">\n                    <div class="stat">\n                        <label>Level</label>\n                        <div class="value" editable-stat-value on-save="ctrl.save()" ng-model="ctrl.character.level" minimum="1">\n                        </div>\n                    </div>\n                </div>\n                \n                <div class="xp">\n                    <div class="stat">\n                        <!-- <label>XP</label> -->\n                        <div class="value--sm" editable-stat-value on-save="ctrl.save()" ng-model="ctrl.character.xp"></div>\n                        <!-- <img src="assets/xp.png"> -->\n                        <span class="sprite sprite-xp"></span>\n                    </div>\n                </div>\n                \n                <div class="wealth">\n                    <div class="stat">\n                        <div class="value--sm" editable-stat-value on-save="ctrl.save()" ng-model="ctrl.character.wealth"></div>\n                        <!-- <img src="assets/wealth.png"> -->\n                        <span class="sprite sprite-wealth"></span>\n                    </div>\n                </div>\n\n                <div class="darkstone">\n                    <div class="stat">\n                        <div editable-stat-value on-save="ctrl.save()" ng-model="ctrl.character.darkstone"></div>\n                        <img src="assets/darkstone.png">\n                    </div>\n                </div>\n\n            </div>\n\n            <ng-include src="\'src/character/health.html\'"></ng-include>\n\n            <ng-include src="\'src/character/sanity.html\'"></ng-include>\n            \n            <ng-include src="\'src/character/faith-and-corruption.html\'"></ng-include>\n            \n            <ng-include src="\'src/character/move-and-grit.html\'"></ng-include>\n\n            <ng-include src="\'src/character/sidebag.html\'"></ng-include>    \n                    \n\n        </div>\n\n        <div class="grid__col-sm-12 grid__col-md-6">\n\n            <div abilities character="ctrl.character" on-save="ctrl.save()"></div>\n            \n        </div>\n    </div>\n</div>'),$templateCache.put("character/character.html",'<div class="page">\n\n    <ng-include src="\'src/character/header.html\'"></ng-include>\n\n    <ng-include src="\'src/character/body.html\'"></ng-include>\n\n    <ng-include src="\'src/character/footer.html\'"></ng-include>\n\n</div>'),$templateCache.put("character/clothing/clothing-item.html",'<div class="clothing-item">\n   <div class="pull-right">\n       <button type="button" class="btn btn-sm btn-danger" ng-click="ctrl.remove()">\n           <span class="glyphicon glyphicon-trash"></span>\n       </button>\n       <button type="button" class="btn btn-sm btn-default" ng-click="ctrl.edit()">\n           <span class="glyphicon glyphicon-pencil"></span>\n       </button>\n   </div>\n   <h5>\n       {{clothingItem.name}} \n       <small>{{clothingItem.type}}</small>\n   </h5>\n   <p><small>{{clothingItem.desc}}</small></p>\n   <p>\n       <small>\n           <em ng-if="clothingItem.source"> ({{clothingItem.source}})</em>\n           <span class="sprite sprite-item_weight"></span> {{clothingItem.weight}}\n           <span class="sprite sprite-item_darkstone"></span> {{clothingItem.darkstone}}\n           <span class="sprite sprite-item_hands"></span> {{clothingItem.hands}}\n           <span class="sprite sprite-item_slots"></span> {{clothingItem.slots}}\n       </small>\n   </p>\n</div>'),$templateCache.put("character/clothing/clothing.html",'<div class="clothing">\n   <h4>Clothing</h4>\n   <div ng-repeat="(type,item) in character.clothing"> \n     <clothing-item-2 clothing-item="character.clothing[type]" on-save="onEdited(item, type)"></clothing-item-2>\n   </div>\n   <hr>\n   <button type="button" class="btn btn-success pull-right" ng-click="add()">New Item</button>\n   <span class="sprite sprite-item_weight"></span> {{itemWeight}} &nbsp;\n   <span class="sprite sprite-item_darkstone"></span> {{itemDarkstone}}\n</div>'),$templateCache.put("character/clothing/editor.html",'<div class="modal-content">\n  <!-- <div class="modal-header">\n    <h4 class="modal-title">Modal title</h4>\n  </div> -->\n    <div class="modal-body">\n\n        <div class="input-group">\n            <span class="input-group-addon">Name</span>\n            <input type="text" class="form-control" ng-model="item.name" placeholder="What is the clothing\'s name?">\n        </div><br>\n        \n        <div class="input-group">\n            <span class="input-group-addon">Desc</span>\n            <input type="text" class="form-control" ng-model="item.desc" placeholder="Describe the clothing">\n        </div><br>\n\n        <div class="input-group">\n            <span class="input-group-addon">Source</span>\n            <input type="text" class="form-control" ng-model="item.source" placeholder="Source (eg, \'General Store\' or \'Targa Plateau\')">\n        </div><br>\n\n        <div class="input-group">\n            <span class="input-group-addon">Cost</span>\n            <input type="text" class="form-control" ng-model="item.cost" placeholder="Optionally, specify the cost">\n        </div><br>\n\n        <div class="input-group">\n            <span class="input-group-addon">Slot</span>\n            <input disabled type="text" class="form-control" ng-if="!newItem" value="{{item.type}}">\n            <select type="text" class="form-control" ng-if="newItem" \n                ng-model="item.type" required ng-options="type for type in types">\n                <option value="">Select Slot</option>\n            </select>\n        </div><br>\n\n        <div class="row">\n            <div class="col-xs-6">\n                <div class="input-group">\n                    <span class="input-group-addon"><img src="assets/item_weight.png" height="16"></span>\n                    <input type="number" min="0" max="2" ng-model="item.weight" class="form-control">\n                </div><br>\n\n                <div class="input-group">\n                    <span class="input-group-addon"><img src="assets/item_darkstone.png" height="16"></span>\n                    <input type="number" min="0" ng-model="item.darkstone" class="form-control">\n                    </label>\n                </div>\n            </div>\n            <div class="col-xs-6">\n                <div class="input-group">\n                    <span class="input-group-addon"><img src="assets/item_hands.png" height="16"></span>\n                    <input type="number" min="0" max="2" ng-model="item.hands" class="form-control">\n                </div><br>\n            \n                <div class="input-group">\n                    <span class="input-group-addon"><img src="assets/item_slots.png" height="16"></span>\n                    <input type="number" max="2" min="0" ng-model="item.slots" class="form-control">\n                </div>\n            </div>\n        </div>        \n    </div>\n    <div class="modal-footer">\n        <button type="button" class="btn btn-default" ng-click="cancel()">Close</button>\n        <button type="button" class="btn btn-primary" ng-disabled="!item.name||!item.type" ng-click="ok()">Apply</button>\n    </div>\n</div>\n'),$templateCache.put("character/faith-and-corruption.html",'\n<div class="clearfix">\n    \n    <div class="faith">\n        <div class="stat">\n            <label>Max Faith</label>\n            <div editable-stat-value on-save="ctrl.save()" ng-model="ctrl.character.faith"></div>\n        </div>\n    </div>\n\n    <div class="corruption">\n        <div class="stat">\n            <label>Max Corruption</label>\n            <div editable-stat-value on-save="ctrl.save()" ng-model="ctrl.character.corruption.max"></div>\n        </div>\n        <div class="stat">\n            <div editable-stat-value on-save="ctrl.save()" \n                ng-model="ctrl.character.corruption.current"></div>\n            <!-- <img src="assets/corruption.png"> -->\n            <span class="sprite sprite-corruption"></span>\n        </div>\n    </div>\n    \n</div>\n'),$templateCache.put("character/footer.html",'<div class="footer">\n\n    <div class="grid">\n\n        <div class="grid__col-sm-12 grid__col-md-6">\n\n            <div items character="ctrl.character" on-save="ctrl.save()"></div>\n\n        </div>\n        <div class="grid__col-sm-12 grid__col-md-6">\n\n            <!-- <ng-include src="\'src/character/clothing.html\'"></ng-include> -->\n            <div clothing-2 character="ctrl.character" on-save="ctrl.save()"></div>\n\n            <div mutations character="ctrl.character" on-save="ctrl.save()"></div>\n\n        </div>\n\n        <div class="grid__col-sm-12 grid__col-md-6">\n            <div sermons character="ctrl.character" on-save="ctrl.save()"></div>\n        </div>\n        \n        <div class="grid__col-sm-12 grid__col-md-6">\n            <div class="notes">\n                <h4>\n                    <button type="button" class="btn btn-sm btn-success pull-right" ng-click="ctrl.save()">Save</button>\n                    Notes\n                </h4>\n                <textarea name="notes" rows="10" placeholder="Enter any notes about this character" class="form-control"\n                    ng-model="ctrl.character.notes"></textarea>\n            </div>\n        </div>\n    </div>\n\n    <br>\n    <br>\n    <br>\n</div>'),
$templateCache.put("character/header.html",'<header>\n        \n    <div class="grid grid--bleed">\n        \n        <div class="grid__col-sm-5 grid__col-md-6 grid__col-lg-6">\n\n            <div class="grid">\n\n                <!-- avatar -->\n                <div class="grid__col-xs-5 grid__col-sm-4 grid__col-md-3 grid__col-lg-3 grid--align-self-end">\n                    <div img-selector ng-model="ctrl.character.avatar" on-save="ctrl.save()"></div>\n                </div>\n\n                <!-- name, class, and keywords -->\n                <div class="grid__col-xs-7 grid__col-sm-8 grid__col-md-9 grid__col-lg-9">\n                    <div><label>Name: </label> {{ctrl.charName}}</div>\n                    <div editable-input label="Class" ng-model="ctrl.character.class" on-save="ctrl.save()"></div>\n                    <div editable-input label="Keywords" ng-model="ctrl.character.keywords" on-save="ctrl.save()"></div>\n                    <br>\n                    <div>\n                        <span class="stat">\n                            <label>Combat</label>\n                            <div editable-stat-value on-save="ctrl.save()" ng-model="ctrl.character.combat"></div>\n                        </span>\n\n                        <span class="stat stat--with-plus">\n                            <label>Melee</label>\n                            <div editable-stat-value on-save="ctrl.save()" ng-model="ctrl.character.melee"></div>\n                        </span>\n                        <span class="stat stat--with-plus">\n                            <label>Ranged</label>\n                            <div editable-stat-value on-save="ctrl.save()" ng-model="ctrl.character.ranged"></div>\n                        </span>\n                    </div>\n\n                </div>\n            </div>\n\n        </div>\n\n        <div class="grid__col-sm-7 grid__col-md-6 grid__col-lg-4">\n\n            <ng-include src="\'src/character/stats.html\'"></ng-include>\n\n        </div>\n    </div>\n</header>'),$templateCache.put("character/health.html",'<div class="health">\n    <div class="stat">\n        <label>Max Health</label>\n        <div editable-stat-value on-save="ctrl.save()" ng-model="ctrl.character.health.max"></div>\n    </div>\n    <div class="stat">\n        <div editable-stat-value on-save="ctrl.save()" \n            ng-model="ctrl.character.health.wounds"></div>\n        <!-- <img src="assets/wound.png">    --> \n        <span class="sprite sprite-wound"></span>\n    </div>\n    <div class="stat stat--with-plus">\n        <label>Defense</label>\n        <div editable-stat-value on-save="ctrl.save()" ng-model="ctrl.character.defense"></div>\n    </div>\n    <div class="stat stat--with-plus">\n        <label>Armor</label>\n        <div editable-stat-value on-save="ctrl.save()" ng-model="ctrl.character.armor"></div>\n    </div>\n</div>'),$templateCache.put("character/items/editor.html",'<div class="modal-content">\n  <!-- <div class="modal-header">\n    <h4 class="modal-title">Modal title</h4>\n  </div> -->\n    <div class="modal-body">\n\n        <div class="input-group">\n            <span class="input-group-addon">Name</span>\n            <input type="text" class="form-control" ng-model="item.name" placeholder="Give the item a name">\n        </div><br>\n        \n        <div class="input-group">\n            <span class="input-group-addon">Desc</span>\n            <input type="text" class="form-control" ng-model="item.description" placeholder="Describe the item">\n        </div><br>\n\n        <div class="input-group">\n            <span class="input-group-addon">Source</span>\n            <input type="text" class="form-control" ng-model="item.source" placeholder="Source (eg, \'General Store\' or \'Targa Plateau\')">\n        </div><br>\n\n        <div class="input-group">\n            <span class="input-group-addon">Cost</span>\n            <input type="text" class="form-control" ng-model="item.cost" placeholder="Optionally, specify the cost">\n        </div><br>\n\n        <div class="row">\n            <div class="col-xs-6">\n                <div class="input-group">\n                    <span class="input-group-addon"><img src="assets/item_weight.png" height="16"></span>\n                    <input type="number" min="0" max="2" ng-model="item.weight" class="form-control">\n                </div><br>\n\n                <div class="input-group">\n                    <span class="input-group-addon"><img src="assets/item_darkstone.png" height="16"></span>\n                    <input type="number" min="0" ng-model="item.darkstone" class="form-control">\n                    </label>\n                </div>\n            </div>\n            <div class="col-xs-6">\n                <div class="input-group">\n                    <span class="input-group-addon"><img src="assets/item_hands.png" height="16"></span>\n                    <input type="number" min="0" max="2" ng-model="item.hands" class="form-control">\n                </div><br>\n            \n                <div class="input-group">\n                    <span class="input-group-addon"><img src="assets/item_slots.png" height="16"></span>\n                    <input type="number" max="2" min="0" ng-model="item.slots" class="form-control">\n                </div>\n            </div>\n        </div>        \n    </div>\n    <div class="modal-footer">\n        <button type="button" class="btn btn-default" ng-click="cancel()">Close</button>\n        <button type="button" class="btn btn-primary" ng-disabled="!item.name" ng-click="ok()">Apply</button>\n    </div>\n</div>\n'),$templateCache.put("character/items/item.html",'<div class="item grid grid--bleed grid--wrap-reverse">\n   <div class="grid__col-sm-3 grid__col-md-4">\n       <div class="grid grid--justify-space-between">\n           <div class="grid__col">\n               <div><span class="sprite sprite-item_weight"></span> <br class="hidden-xs"> {{item.weight}}</div>\n           </div>\n           <div class="grid__col">\n               <div><span class="sprite sprite-item_darkstone"></span> <br class="hidden-xs"> {{item.darkstone}}</div>\n           </div>\n           <div class="grid__col">\n               <div><span class="sprite sprite-item_hands"></span> <br class="hidden-xs"> {{item.hands}}</div>\n           </div>\n           <div class="grid__col">\n               <div><span class="sprite sprite-item_slots"></span> <br class="hidden-xs"> {{item.slots}}</div>\n           </div>\n           <div class="grid__col"></div>\n       </div>\n   </div>\n   <div class="grid__col-sm-9 grid__col-md-8">\n       <div>\n           <div class="pull-right">\n               <button type="button" class="btn btn-sm btn-danger" ng-click="ctrl.remove()">\n                 <span class="glyphicon glyphicon-trash"></span>\n               </button>\n               <button type="button" class="btn btn-sm btn-default" ng-click="ctrl.edit()">\n                 <span class="glyphicon glyphicon-pencil"></span>\n               </button>\n           </div>\n           <h5>{{name}}</h5>\n           <small>{{item.description}}  <em>({{item.source}})</em></small>\n       </div>\n   </div>\n</div>'),$templateCache.put("character/items/items.html",'<div class="items">\n    <h4>Items</h4>\n\n    <div ng-repeat="(name, item) in character.items" item="item" name="{{name}}" on-save="onEdited(name, item)"></div>\n\n    <hr>\n\n    <button type="button" class="btn btn-success pull-right" ng-click="add()">New Item</button>\n                    \n    <span class="sprite sprite-item_weight"></span> {{itemWeight}} &nbsp;\n    <span class="sprite sprite-item_darkstone"></span> {{itemDarkstone}}\n\n</div>'),$templateCache.put("character/move-and-grit.html",'\n<div>\n    <div class="movement">\n        <div class="stat stat--prepend-plus">\n            <label>Move</label>\n            <div editable-stat-value on-save="ctrl.save()" ng-model="ctrl.character.movement"></div>\n        </div>\n    </div>\n    <div class="grit">\n        <div class="stat">\n            <label>Max Grit</label>\n            <div editable-stat-value on-save="ctrl.save()" ng-model="ctrl.character.grit.max"></div>\n        </div>\n        <div class="stat">\n            <label>Current</label>\n            <div editable-stat-value on-save="ctrl.save()" ng-model="ctrl.character.grit.current"></div>\n        </div>\n    </div>\n</div>'),$templateCache.put("character/mutations/mutation.html",'<div class="mutation">\n  <div ng-if="!ctrl.displayEditor">\n    <div class="pull-right">\n      <button type="button" class="btn btn-sm btn-danger" ng-click="ctrl.remove()">\n        <span class="glyphicon glyphicon-trash"></span>\n      </button>\n      <button type="button" class="btn btn-sm btn-default" ng-click="ctrl.edit()">\n        <span class="glyphicon glyphicon-pencil"></span>\n      </button>\n    </div>\n    <h5>{{ctrl.name}}</h5> <small>{{ctrl.desc}}</small>\n  </div>\n  <form ng-if="ctrl.displayEditor">\n    <input type="text" class="form-control" ng-model="ctrl.name" placeholder="name">\n    <textarea rows="3" class="form-control" ng-model="ctrl.desc" placeholder="value"></textarea>\n    <button type="button" class="btn btn-sm btn-success" ng-click="ctrl.save()">\n      <span class="glyphicon glyphicon-ok"></span>\n    </button>\n    <button type="button" class="btn btn-sm btn-default" ng-click="ctrl.cancel()">\n      <span class="glyphicon glyphicon-remove"></span>\n    </button>\n  </form>\n  <br><br>\n</div>'),$templateCache.put("character/mutations/mutations-and-injuries.html",'<div class="mutations">\n    <h4>Mutations &amp; Injuries</h4>\n    <div ng-repeat="(name, desc) in character.mutations" \n        mutation name="{{name}}" desc="{{desc}}" on-save="onEdited(name, newName, newDesc)"></div>\n    <hr>\n    \n    <form class="form">\n        <input type="text" class="form-control" placeholder="Name" ng-model="value.name">\n        <textarea rows="3" class="form-control" placeholder="Description" ng-model="value.desc"></textarea>\n        <button type="button" class="btn btn-success pull-right" ng-disabled="!value.name" ng-click="add()">Add</button>\n    </form>\n\n</div>'),$templateCache.put("character/sanity.html",'\n<div class="sanity">\n    <div class="stat">\n        <label>Max Sanity</label>\n        <div editable-stat-value on-save="ctrl.save()" ng-model="ctrl.character.sanity.max"></div>\n    </div>\n    <div class="stat">\n        <!-- <label>Loss</label> -->\n        <div editable-stat-value on-save="ctrl.save()" \n            ng-model="ctrl.character.sanity.loss"></div>\n        <!-- <img src="assets/sanity.png"> -->\n        <span class="sprite sprite-sanity"></span>\n    </div>\n    <div class="stat stat--with-plus">\n        <label>Willpower</label>\n        <div editable-stat-value on-save="ctrl.save()" ng-model="ctrl.character.willpower"></div>\n    </div>\n    <div class="stat stat--with-plus">\n        <label>Sp Armor</label>\n        <div editable-stat-value on-save="ctrl.save()" ng-model="ctrl.character.spiritArmor"></div>\n    </div>\n</div>\n'),$templateCache.put("character/sermons/editor.html",'<div class="modal-content">\n  \n    <div class="modal-body">\n\n        <div class="input-group">\n            <span class="input-group-addon">Name</span>\n            <input type="text" class="form-control" ng-model="item.name" placeholder="Sermon Name">\n        </div><br>\n\n        <div class="input-group">\n            <span class="input-group-addon">Type</span>\n            <select class="form-control" ng-model="item.type">\n                <option value="">Select One</option>\n                <option value="Blessing">Blessing</option>\n                <option value="Judgement">Judgement</option>\n            </select>\n        </div><br>\n        \n        <div class="input-group">\n            <span class="input-group-addon">Desc</span>\n            <input type="text" class="form-control" ng-model="item.desc" placeholder="Description">\n        </div><br>\n\n        <div class="row">\n            <div class="col-xs-6">\n                <div class="input-group">\n                    <span class="input-group-addon">Cost</span>\n                    <input type="number" class="form-control" ng-model="item.cost" min="0">\n                </div>\n            </div>\n            <div class="col-xs-6">\n                <div class="input-group">\n                    <span class="input-group-addon">Check</span>\n                    <input type="number" class="form-control" ng-model="item.check" min="0">\n                </div>\n            </div>\n        </div>\n        <br>\n\n        <div class="row">\n            <div class="col-xs-6">\n                <div class="input-group">\n                    <span class="input-group-addon">Range</span>\n                    <input type="text" class="form-control" ng-model="item.range" placeholder="e.g, 6">\n                </div>\n            </div>\n            <div class="col-xs-6">\n                <div class="input-group">\n                    <span class="input-group-addon">XP</span>\n                    <input type="number" class="form-control" ng-model="item.xp" min="0">\n                </div>\n            </div>\n        </div>\n        <br>\n\n        <div class="input-group">\n            <span class="input-group-addon">Deadly</span>\n            <input type="checkbox" class="form-control" ng-model="item.deadly">\n        </div><br>\n\n    </div>\n    <div class="modal-footer">\n        <button type="button" class="btn btn-default" ng-click="cancel()">Close</button>\n        <button type="button" class="btn btn-primary" ng-disabled="!item.name||!item.type" ng-click="ok()">Save</button>\n    </div>\n</div>\n'),$templateCache.put("character/sermons/sermon.html",'<div class="sermon">\n   <div class="pull-right">\n       <button type="button" class="btn btn-sm btn-danger" ng-click="ctrl.remove()">\n           <span class="glyphicon glyphicon-trash"></span>\n       </button>\n       <button type="button" class="btn btn-sm btn-default" ng-click="ctrl.edit()">\n           <span class="glyphicon glyphicon-pencil"></span>\n       </button>\n   </div>\n   <h5>\n       {{sermon.name}} \n       <small>{{sermon.type}}</small>\n   </h5>\n   <p>\n       <small>\n           <div>\n               <span ng-if="sermon.deadly">\n                <span class="glyphicon glyphicon-exclamation-sign" title="Dangerous!"></span>&nbsp;&nbsp;&nbsp;\n              </span>\n               <strong>{{sermon.check}}+</strong>&nbsp;&nbsp;&nbsp;\n               <strong>Cost: </strong> {{sermon.cost}}&nbsp;&nbsp;&nbsp;\n               <strong>XP: </strong> {{sermon.xp}}&nbsp;&nbsp;&nbsp;\n           </div>\n           <div><strong>Range: </strong> {{sermon.range}}</div>\n           <div>{{sermon.desc}}</div>\n       </small>\n   </p>\n</div>'),$templateCache.put("character/sermons/sermons.html",'<div class="sermons" ng-if="character.class && character.class.toLowerCase().indexOf(\'preacher\')>=0">\n   <h4>Sermons</h4>\n   <div ng-repeat="(name,sermon) in $parent.character.sermons"> \n     <div sermon="sermon" on-save="$parent.onEdited(name, sermon)"></div>\n   </div>\n   <hr>\n   <button type="button" class="btn btn-success pull-right" ng-click="$parent.add()">Add</button>\n</div>'),$templateCache.put("character/sidebag.html",'<div class="sidebag">\n    <h4>Side Bag</h4>\n\n    <div class="stat">\n        <!-- <label>Bandages</label> -->\n        <div editable-stat-value on-save="ctrl.save()" \n            ng-model="ctrl.character.sidebag.bandages"\n            maximum="{{ctrl.getAvailableSidebagCapacity()}}"></div>\n        <!-- <img src="assets/bandages.png"> -->\n        <span class="sprite sprite-bandages"></span>\n    </div>    \n    <div class="stat">\n        <!-- <label>Whiskey</label> -->\n        <div editable-stat-value on-save="ctrl.save()" \n            ng-model="ctrl.character.sidebag.whiskey"\n            maximum="{{ctrl.getAvailableSidebagCapacity()}}"></div>\n        <!-- <img src="assets/whiskey.png"> -->\n        <span class="sprite sprite-whiskey"></span>\n    </div>    \n    <div class="stat">\n        <!-- <label>Tonic</label> -->\n        <div editable-stat-value on-save="ctrl.save()" \n            ng-model="ctrl.character.sidebag.tonic"\n            maximum="{{ctrl.getAvailableSidebagCapacity()}}"></div>\n        <!-- <img src="assets/tonic.png"> -->\n        <span class="sprite sprite-tonic"></span>\n    </div>    \n    <div class="stat">\n        <!-- <label>Herbs</label> -->\n        <div editable-stat-value on-save="ctrl.save()" \n            ng-model="ctrl.character.sidebag.herbs"\n            maximum="{{ctrl.getAvailableSidebagCapacity()}}"></div>\n        <!-- <img src="assets/herb.png"> -->\n        <span class="sprite sprite-herb"></span>\n    </div>    \n    <div class="stat">\n        <!-- <label>Dynamite</label> -->\n        <div editable-stat-value on-save="ctrl.save()" \n            ng-model="ctrl.character.sidebag.dynamite"\n            maximum="{{ctrl.getAvailableSidebagCapacity()}}"></div>\n        <!-- <img src="assets/dynamite.png"> -->\n        <span class="sprite sprite-dynamite"></span>\n    </div>    \n    <div class="stat">\n        <!-- <label>Flash</label> -->\n        <div editable-stat-value on-save="ctrl.save()" \n            ng-model="ctrl.character.sidebag.flash"\n            maximum="{{ctrl.getAvailableSidebagCapacity()}}"></div>\n        <!-- <img src="assets/flash.png"> -->\n        <span class="sprite sprite-flash"></span>\n    </div>    \n    <div class="stat">\n        <!-- <label>Swamp Fungus</label> -->\n        <div editable-stat-value on-save="ctrl.save()" \n            ng-model="ctrl.character.sidebag.fungus"\n            maximum="{{ctrl.getAvailableSidebagCapacity()}}"></div>\n        <!-- <img src="assets/fungus.png"> -->\n        <span class="sprite sprite-fungus"></span>\n    </div>    \n\n\n    <div class="stat">\n        <!-- <label>Spice</label> -->\n        <div editable-stat-value on-save="ctrl.save()" \n            ng-model="ctrl.character.sidebag.spices"\n            maximum="{{ctrl.getAvailableSidebagCapacity()}}"></div>\n        <!-- <img src="assets/spice.png"> -->\n        <span class="sprite sprite-spice"></span>\n    </div> \n    <div class="stat">\n        <!-- <label>Potion</label> -->\n        <div editable-stat-value on-save="ctrl.save()" \n            ng-model="ctrl.character.sidebag.potions"\n            maximum="{{ctrl.getAvailableSidebagCapacity()}}"></div>\n        <!-- <img src="assets/potion.png"> -->\n        <span class="sprite sprite-potion"></span>\n    </div> \n    <div class="stat">\n        <!-- <label>Hatchet</label> -->\n        <div editable-stat-value on-save="ctrl.save()" \n            ng-model="ctrl.character.sidebag.hatchets"\n            maximum="{{ctrl.getAvailableSidebagCapacity()}}"></div>\n        <!-- <img src="assets/hatchet.png"> -->\n        <span class="sprite sprite-hatchet"></span>\n    </div> \n    <div class="stat">\n        <!-- <label>Lantern Oil</label> -->\n        <div editable-stat-value on-save="ctrl.save()" \n            ng-model="ctrl.character.sidebag.lanternOil"\n            maximum="{{ctrl.getAvailableSidebagCapacity()}}"></div>\n        <!-- <img src="assets/oil.png"> -->\n        <span class="sprite sprite-oil"></span>\n    </div> \n    <div class="stat">\n        <!-- <label>Exotic Herbs</label> -->\n        <div editable-stat-value on-save="ctrl.save()" \n            ng-model="ctrl.character.sidebag.exoticHerbs"\n            maximum="{{ctrl.getAvailableSidebagCapacity()}}"></div>\n        <!-- <img src="assets/exoticHerbs.png"> -->\n        <span class="sprite sprite-exoticHerbs"></span>\n    </div> \n    <div class="stat">\n        <!-- <label>Tequila</label> -->\n        <div editable-stat-value on-save="ctrl.save()" \n            ng-model="ctrl.character.sidebag.tequila"\n            maximum="{{ctrl.getAvailableSidebagCapacity()}}"></div>\n        <!-- <img src="assets/tequila.png"> -->\n        <span class="sprite sprite-tequila"></span>\n    </div> \n    <div class="stat">\n        <!-- <label>Fine Cigar</label> -->\n        <div editable-stat-value on-save="ctrl.save()" \n            ng-model="ctrl.character.sidebag.cigars"\n            maximum="{{ctrl.getAvailableSidebagCapacity()}}"></div>\n        <!-- <img src="assets/cigar.png"> -->\n        <span class="sprite sprite-cigar"></span>\n    </div> \n\n\n    <div class="stat">\n        <label>Capacity</label>\n        <div editable-stat-value on-save="ctrl.save()" \n            ng-model="ctrl.character.sidebag.capacity"\n            maximum="{{ctrl.getAvailableSidebagCapacity()}}"></div>\n    </div>    \n</div>'),$templateCache.put("character/stats.html",'<div class="stats">\n    <div class="stat">\n        <label>Agility</label>\n        <div editable-stat-value on-save="ctrl.save()" ng-model="ctrl.character.stats.Agility" minimum="1"></div>\n    </div>\n\n    <div class="stat">\n        <label>Cunning</label>\n        <div editable-stat-value on-save="ctrl.save()" ng-model="ctrl.character.stats.Cunning" minimum="1"></div>\n    </div>\n\n    <div class="stat">\n        <label>Spirit</label>\n        <div editable-stat-value on-save="ctrl.save()" ng-model="ctrl.character.stats.Spirit" minimum="1"></div>\n    </div>\n    <br>\n    <span class="hidden-xs" style="display:inline-block;width:2em;"></span>\n\n    <div class="stat">\n        <label>Strength</label>\n        <div editable-stat-value on-save="ctrl.save()" ng-model="ctrl.character.stats.Strength" minimum="1"></div>\n    </div>\n\n    <div class="stat">\n        <label>Lore</label>\n        <div editable-stat-value on-save="ctrl.save()" ng-model="ctrl.character.stats.Lore" minimum="1"></div>\n    </div>\n\n    <div class="stat">\n        <label>Luck</label>\n        <div editable-stat-value on-save="ctrl.save()" ng-model="ctrl.character.stats.Luck" minimum="1"></div>\n    </div>\n\n    <div class="stat">\n        <label>Initiative</label>\n        <div editable-stat-value on-save="ctrl.save()" ng-model="ctrl.character.init" minimum="1"></div>\n    </div>\n\n</div>'),$templateCache.put("home/home.html",'<div class="container">\n\n    <div class="alert alert-danger" ng-if="ctrl.displayOpts.error">{{ctrl.displayOpts.error}}</div>\n    \n    <div ng-if="ctrl.displayOpts.loading">Fetching data...</div>\n    \n    <div class="list-group">\n        <div class="list-group-item disabled">\n            <h4 class="list-group-item-heading">Characters</h4>\n            <p class="list-group-item-text">Select a character from the list</p>\n        </div>\n        <a ng-repeat="name in ctrl.chars" class="list-group-item" href="#/{{name|encode}}">{{name}}</a>\n        <a class="list-group-item list-group-item-success" ng-if="user" ng-click="ctrl.createCharacter()">\n            Create a New Character\n        </a>\n    </div>\n\n</div>'),$templateCache.put("keypad.html",'<div class="modal-content keypad">\n  \n    <div class="modal-body">\n\n        <h5>Current: {{value}} <br><small>(min: {{minimum}}, max: {{maximum}})</small></h5>\n        \n        <button type="button" class="btn btn-danger" ng-click="change(-50)" ng-disable="value==minimum">-50</button>\n        <button type="button" class="btn btn-danger" ng-click="change(-10)" ng-disable="value==minimum">-10</button>\n        <button type="button" class="btn btn-danger" ng-click="change(-5)" ng-disable="value==minimum">-5</button>\n        <button type="button" class="btn btn-danger" ng-click="change(-1)" ng-disable="value==minimum">-1</button>\n        <br>\n\n        <button type="button" class="btn btn-success" ng-click="change(1)">+1</button>\n        <button type="button" class="btn btn-success" ng-click="change(2)">+2</button>\n        <button type="button" class="btn btn-success" ng-click="change(3)">+3</button>\n        <button type="button" class="btn btn-success" ng-click="change(4)">+4</button>\n        <br>\n        \n        <button type="button" class="btn btn-success" ng-click="change(5)">+5</button>\n        <button type="button" class="btn btn-success" ng-click="change(10)">+10</button>\n        <button type="button" class="btn btn-success" ng-click="change(15)">+15</button>\n        <button type="button" class="btn btn-success" ng-click="change(20)">+20</button>\n        <br>\n        \n        <button type="button" class="btn btn-success" ng-click="change(25)">+25</button>\n        <button type="button" class="btn btn-success" ng-click="change(30)">+30</button>\n        <button type="button" class="btn btn-success" ng-click="change(50)">+50</button>\n        <button type="button" class="btn btn-success" ng-click="change(100)">+100</button>\n        <br><br>\n\n        <div class="manual-entry">\n            <div class="input-group">\n                <span class="input-group-btn">\n                    <a class="btn btn-danger" ng-click="change(-1*manualAdj)" ng-disabled="isNaN(manualAdj)">-</a>\n                </span>\n                <input type="number" class="form-control" ng-model="manualAdj" placeholder="Adjust by ...">\n                <span class="input-group-btn">\n                    <a class="btn btn-success" ng-click="change(manualAdj)" ng-disabled="isNaN(manualAdj)">+</a>\n                </span>\n            </div>\n        </div>\n\n    </div>\n    \n    <div class="modal-footer">\n        <button type="button" class="btn btn-default" ng-click="cancel()">Close</button>\n        <button type="button" class="btn btn-primary" ng-click="ok()">Apply</button>\n    </div>\n\n</div>\n'),$templateCache.put("login.html",'<div class="modal-content">\n    <div class="modal-body">\n\n        <form class="form">\n            <div class="form-group">\n                <label for="email">Email</label>\n                <input type="email" name="email" placeholder="Email address" class="form-control" ng-model="email">\n            </div>\n            <div class="form-group">\n                <label for="password">Password</label>\n                <input type="password" name="password" placeholder="Password" class="form-control" ng-model="password">\n            </div>\n\n            <button type="button" class="btn btn-default" ng-click="cancel()">Cancel</button>\n            <button type="button" class="btn btn-primary" ng-click="login()">Login</button>\n        </form>\n\n    </div>\n</div>')}]);